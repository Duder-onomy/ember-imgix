# ember-imgix

[![Build Status](https://travis-ci.org/Duder-onomy/ember-imgix.svg?branch=master)](https://travis-ci.org/Duder-onomy/ember-imgix)

This is a rebuild of [ember-cli-imgix](https://github.com/imgix/ember-cli-imgix).
I became frustrated with lack of activity and the source code was odd, so I re-wrote it.
This is currently used in a large ember app. If your going to use it, please let me know if you find anything off.

An Ember addon for easily adding responsive imagery via [imgix](https://www.imgix.com) to your application.

**Note:** Front-end imgix libraries and framework integrations will not work with imgix Web Proxy Sources. They will only work with imgix Web Folder or S3 Sources.

## Installation

From within an existing ember-cli project:

```bash
$ ember install ember-imgix
```

Next, set up some configuration flags:

```javascript
// config/environment.js

module.exports = function(environment) {
  var ENV = {
    // snip
    APP: {
      imgix: {
        source: 'my-social-network.imgix.net',
        debug: true // Prints out diagnostic information on the image itself. Turn off in production.
      }
    }
    // snip
  }
};
```

## Usage

This addon exposes a single component `imgix-image` that you will want to use.

```hbs
{{imgix-image path='/users/1.png'}}
```

The HTML generated by this might look like the following:

```html
<img src="https://my-social-network.com/users/1.png?w=400&h=300&dpr=1" >
```

The `src` attribute will have [imgix URL API parameters](https://www.imgix.com/docs/reference) added to it to perform the resize.

Note! This element works by calculating the width/height from its parent. If its parent has no width/height, then this component will do nothing.

You can pass through most of the params that imgix urls accept.

Some of the defaults are:

```javascript
aspectRatio: null,
path: null,
crop: 'faces',
fit: 'crop',
pixelStep: 10,
auto: null,
alt: null,
```

This element also exposes an `onLoad` action which you can hook into to know when the image has loaded:

```hbs
{{imgix-image
  path='/users/1.png'
  onLoad=(action 'handleImageLoad')
}}
```

## Running a test app

To see this in action with some stock photos, clone this repo and then run `ember serve`

```bash
git clone git@github.com:Duder-onomy/ember-imgix.git
cd ember-imgix
ember serve
```

Now visit [http://localhost:4200](http://localhost:4200).

## Running Tests

Pretty simple:

```base
ember test
```
